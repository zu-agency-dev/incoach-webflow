{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/animationPageTransition.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "interface TransitionConfig {\n  introDurationMS: number;\n  exitDurationMS: number;\n  excludedClass: string;\n}\n\nfunction handlePageLoad(config: TransitionConfig, trigger: HTMLElement): void {\n  trigger.click();\n  document.body.classList.add('no-scroll-transition');\n  setTimeout(() => {\n    document.body.classList.remove('no-scroll-transition');\n  }, config.introDurationMS);\n}\n\nfunction setupLinkHandlers(config: TransitionConfig, trigger: HTMLElement): void {\n  document.addEventListener('click', (e: Event) => {\n    const target = e.target as HTMLAnchorElement;\n    if (!target.matches('a')) return;\n\n    const isInternalLink = target.hostname === window.location.host;\n    const isHashLink = target.href.includes('#');\n    const isExcluded = target.classList.contains(config.excludedClass);\n    const isNewTab = target.target === '_blank';\n\n    if (isInternalLink && !isHashLink && !isExcluded && !isNewTab) {\n      e.preventDefault();\n      document.body.classList.add('no-scroll-transition');\n      trigger.click();\n\n      setTimeout(() => {\n        window.location.href = target.href;\n      }, config.exitDurationMS);\n    }\n  });\n}\n\nfunction setupBackButtonHandler(): void {\n  window.onpageshow = (event: PageTransitionEvent) => {\n    if (event.persisted) {\n      window.location.reload();\n    }\n  };\n}\n\nfunction setupResizeHandler(introDurationMS: number): void {\n  setTimeout(() => {\n    window.addEventListener('resize', () => {\n      setTimeout(() => {\n        const transition = document.querySelector('.transition') as HTMLElement;\n        if (transition) {\n          transition.style.display = 'none';\n        }\n      }, 50);\n    });\n  }, introDurationMS);\n}\n\nfunction initializePageTransition(config: TransitionConfig): void {\n  const transitionTrigger = document.querySelector('.transition-trigger');\n\n  if (transitionTrigger instanceof HTMLElement) {\n    handlePageLoad(config, transitionTrigger);\n    setupLinkHandlers(config, transitionTrigger);\n    setupBackButtonHandler();\n    setupResizeHandler(config.introDurationMS);\n  }\n}\n\n// Initialize the transition\ninitializePageTransition({\n  introDurationMS: 800,\n  exitDurationMS: 1300,\n  excludedClass: 'no-transition',\n});\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,GAAG,uBAAY,UAAU,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACM7F,WAAS,eAAe,QAA0B,SAA4B;AAC5E,YAAQ,MAAM;AACd,aAAS,KAAK,UAAU,IAAI,sBAAsB;AAClD,eAAW,MAAM;AACf,eAAS,KAAK,UAAU,OAAO,sBAAsB;AAAA,IACvD,GAAG,OAAO,eAAe;AAAA,EAC3B;AAEA,WAAS,kBAAkB,QAA0B,SAA4B;AAC/E,aAAS,iBAAiB,SAAS,CAAC,MAAa;AAC/C,YAAM,SAAS,EAAE;AACjB,UAAI,CAAC,OAAO,QAAQ,GAAG,EAAG;AAE1B,YAAM,iBAAiB,OAAO,aAAa,OAAO,SAAS;AAC3D,YAAM,aAAa,OAAO,KAAK,SAAS,GAAG;AAC3C,YAAM,aAAa,OAAO,UAAU,SAAS,OAAO,aAAa;AACjE,YAAM,WAAW,OAAO,WAAW;AAEnC,UAAI,kBAAkB,CAAC,cAAc,CAAC,cAAc,CAAC,UAAU;AAC7D,UAAE,eAAe;AACjB,iBAAS,KAAK,UAAU,IAAI,sBAAsB;AAClD,gBAAQ,MAAM;AAEd,mBAAW,MAAM;AACf,iBAAO,SAAS,OAAO,OAAO;AAAA,QAChC,GAAG,OAAO,cAAc;AAAA,MAC1B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,WAAS,yBAA+B;AACtC,WAAO,aAAa,CAAC,UAA+B;AAClD,UAAI,MAAM,WAAW;AACnB,eAAO,SAAS,OAAO;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAEA,WAAS,mBAAmB,iBAA+B;AACzD,eAAW,MAAM;AACf,aAAO,iBAAiB,UAAU,MAAM;AACtC,mBAAW,MAAM;AACf,gBAAM,aAAa,SAAS,cAAc,aAAa;AACvD,cAAI,YAAY;AACd,uBAAW,MAAM,UAAU;AAAA,UAC7B;AAAA,QACF,GAAG,EAAE;AAAA,MACP,CAAC;AAAA,IACH,GAAG,eAAe;AAAA,EACpB;AAEA,WAAS,yBAAyB,QAAgC;AAChE,UAAM,oBAAoB,SAAS,cAAc,qBAAqB;AAEtE,QAAI,6BAA6B,aAAa;AAC5C,qBAAe,QAAQ,iBAAiB;AACxC,wBAAkB,QAAQ,iBAAiB;AAC3C,6BAAuB;AACvB,yBAAmB,OAAO,eAAe;AAAA,IAC3C;AAAA,EACF;AAGA,2BAAyB;AAAA,IACvB,iBAAiB;AAAA,IACjB,gBAAgB;AAAA,IAChB,eAAe;AAAA,EACjB,CAAC;",
  "names": []
}
